#!/bin/bash
jdk="openjdk"
cdh_version="5.16.1"
if [ "${1}" == "oracle" ]
then
        jdk="oraclejdk"
fi
if [ "${1}" == "5.11" -o "${2}" == "5.11" ]
then
        cdh_version="5.11.1"
fi
image="seomoz_cdh_${cdh_version}_${jdk}_standalone:v2"

exec docker run \
  -p 1004:1004 \
  -p 1006:1006 \
  -p 2181:2181 \
  -p 8020:8020 \
  -p 8022:8022 \
  -p 8030:8030 \
  -p 8031:8031 \
  -p 8032:8032 \
  -p 8033:8033 \
  -p 8040:8040 \
  -p 8041:8041 \
  -p 8042:8042 \
  -p 8044:8044 \
  -p 8088:8088 \
  -p 8090:8090 \
  -p 19888:19888 \
  -p 19890:19890 \
  -p 50010:50010 \
  -p 50020:50020 \
  -p 50070:50070 \
  -p 50075:50075 \
  -p 50470:50470 \
  -p 50475:50475 \
  -p 60000:60000 \
  -p 60010:60010 \
  -p 60020:60020 \
  -p 60030:60030 \
  -p 65000:65000 \
  -p 65010:65010 \
  -p 65020:65020 \
  -p 65030:65030 \
  -d ${image}
